<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	<button id='logo'>
		我是点击事件
	</button>
	<script type='text/javascript'>   
		/*
		Set和Map数据结构
		1.Set
		ES6中的Set没有重复的值，类似于数组但不是数组。
		Set是一个构造函数，可以生成Set数据结构。是没有重复值的
		
		Set函数可以接收一个数组作为参数。用来初始化。
		const set=new　Set([1,3,3,456,6,34]);
		[...set];
		//[1,2,3,4];
		//数组的去重;
		let a=[1,2,3,3,4,5];
		const s=new Set(a)
		const s1=new Set(a)
	
		s1 //Set(5) {1, 2, 3, 4, 5}
		s1.size //5
		s1.length //0
		[...s1]
		(5) [1, 2, 3, 4, 5]
				
		
		对于对象的判定
		
		Set的属性和方法。
		属性：1.Set.propotype.constructor:构造函数，默认是set函数
			  2.Set.propotype.size:返回set实例中的成员总数。
		方法:
			1.add(value);
				添加某个值，返回Set结构本身
			2.delete(value);
				删除某个值，返回一个布尔值，表示删除是否成功。
			3.has(value)；
				判断该value是否为set实例的成员，返回的是布尔值
			4.clear() 
				清除所有的成员，没有返回值。
				
		简写 数组的去重
		var newarr1=[...new Set(array)];
		Array.from(new Set([1, 2, 3, 4, 5]));
		
		Set的遍历方法
			keys():返回键名的遍历器。
			value():返回键值
			entries():返回键值对
			forEach():使用回调函数遍历每个成员
			
	2.WeakSet
		结构于Set类似，但是只能是对象，不能是其他类型的值
		可以 使用new创建WeakSet数据结构。
	3.Map
	
		Javascript的对象，本质上是键值对的集合（hash结构）;传统上只能使用字符串当作键名。这给他的使用带来了很大的限制。
		
		Map 结构的键的范围不仅仅限于字符串，各种类型的值都可以当作键。也就是说Map提供了“值对值”的概念。
		const map = new Map([
			  ['name', '张三'],
			  ['title', 'Author']
			]);

			map.size // 2
			map.has('name') // true
			map.get('name') // "张三"
			map.has('title') // true
			map.get('title') // "Author"
			
		Map的属性和方法
		属性：
			(1)size属性
			size返回Map结构的成员总数
			(2)set(key,value)
			设置键名，键值，返回整个Map结构，如果key有值，那么键值会更新，否则生成新的键值。
			let map = new Map()
			  .set(1, 'a')
			  .set(2, 'b')
			  .set(3, 'c');
			  链式写法
			(3)get(key);
			返回键名对应的键值，如果找不到key，则返回undefined.
			(4)has(key);
			has返回一个布尔值，表示某个键是否在在当前的Map对象之中。
			(5)delete(key)
			删除这个键值对，如果成功返回true，如果失败返回false
			(6)clear()
			清除所有成员，没有返回值
			
		遍历方法
			keys():返回键名的遍历器。
			value():返回键值
			entries():返回键值对
			forEach()：返回Map的所有成员。
			Map的遍历顺序就是插入的顺序。
			
		Map与其他数据结构的转换
			1.Map转换为数组
			const myMap = new Map()
			  .set(true, 7)
			  .set({foo: 3}, ['abc']);
			[...myMap]
			2.数组转换为Map
			new Map([
		  [true, 7],
		  [{foo: 3}, ['abc']]
		])
			3.Map转化为对象
			如果所有的Map都为字符串，它可以转为对象。
			4.对象转为Map
			5.Map转换为Json
			6.Json转换为Map

			
			
		4.WeakMap
		1.WeakMap只接受对象作为键名，不接受其他类型的值作为键名
		2.WeakMap的键名所指向的对象，不计入垃圾回收机制。
		什么时候用WeakMap 
		如果你要往对象上添加数据，又不想干扰垃圾回收机制，就可以使用WeakMap，一个典型的应用场景
		在网页的DOM元素上添加数据，就可以使用WeakMap结构，当该DOM被清除，其所对应的WeakMap记录就会
		自动被移除。
		WeakMap只有四个方法可用：get()、set()、has()、delete()。
		
		WeakMap的用途
		
		
		*/
		let myElement=document.getElementById('logo');
		let myWeakmap=new WeakMap();
		myWeakmap.set(myElement,{timesClicked:0});
		myElement.addEventListener('click',function(){
			let logoData=myWeakmap.get(myElement);
			logoData.timesClicked++;
			console.log(logoData.timesClicked);
		},false);
		

	</script>
	</body>
</html>
